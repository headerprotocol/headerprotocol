import rlp # pip install rlp
from hexbytes import HexBytes
from eth_hash.auto import keccak

# Block data
block_header = [
    HexBytes("0x05951b9add591b5a0d4411ecbaa282cc3bf0f6bb4095dcc5c979c1ca4c1d813c"),  # parentHash
    HexBytes("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),  # sha3Uncles
    HexBytes("0x612d6b48eb86ba469d3e237ca610aa2a71dc9234"),                        # miner
    HexBytes("0x7e0ebb048bfdbdc1331f8ff17c3e7463c024edef642ad56594754875299a8350"),  # stateRoot
    HexBytes("0xa97009f7f3ed3895bc57e4654c8f95a8294ccaf35c87a1f8f64721c1a053de77"),  # transactionsRoot
    HexBytes("0x20cb7c208f952db8f1ab6ed9976d63e7f763ade94820e4d7eabc19bbfc011ae8"),  # receiptsRoot
    HexBytes("0x11e800630fa0244118088310aa051d6610223101111110025219a012c00240234041a58c944100364e00b310800f8904163b8068ec8148004c480647012a8ba434011c0841100ca16926748982c5622a02020b2084404a087435c46081490b26c748614092cc6582244640112c40bcd10c1a006ab920a76803491337400316103948021102c0611400c11102411310a610019e414d50901cca31045a4c93902002aa942db80160a4611048c009098d4020240c4008b459a71c0100022888e341ab4011a25110015e50591477910890d4298808420000d13846804002836020c483b172391583856080cd81922c33800c66c0616800c40850cc2a22c2312c5445"),  # logsBloom
    int("0", 10),  # difficulty
    int("21359530", 10),  # number
    int("30000000", 10),  # gasLimit
    int("7594796", 10),  # gasUsed
    int("1733682071", 10),  # timestamp
    HexBytes("0x"),  # extraData
    HexBytes("0x1f59c2ad36a2fe1ae1669cd02d8dbc7fb156613ab0940e5ef746807f678be0a3"),  # mixHash
    HexBytes("0x0000000000000000"),  # nonce
    int("11066371332", 10),  # baseFeePerGas
    HexBytes("0xd86d13bcc8747fe14885674a59e32f23690efe265cba04cf7a9a4904ed331115"),  # withdrawalsRoot
    int("655360", 10),  # blobGasUsed
    int("64749568", 10),  # excessBlobGas
    HexBytes("0x763517c48f02ef97e4375cee60c49bb8cea82c401347d328e2e438ac6e019bb3"),  # parentBeaconBlockRoot
]

# RLP encoding
encoded_header = rlp.encode(block_header)
print("RLP-encoded blockHeader:", encoded_header.hex())

blockhash = keccak(encoded_header)
print("Blockhash:", blockhash.hex())

# python test/block.py

# RLP-encoded blockHeader: f9024da005951b9add591b5a0d4411ecbaa282cc3bf0f6bb4095dcc5c979c1ca4c1d813ca01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794612d6b48eb86ba469d3e237ca610aa2a71dc9234a07e0ebb048bfdbdc1331f8ff17c3e7463c024edef642ad56594754875299a8350a0a97009f7f3ed3895bc57e4654c8f95a8294ccaf35c87a1f8f64721c1a053de77a020cb7c208f952db8f1ab6ed9976d63e7f763ade94820e4d7eabc19bbfc011ae8b9010011e800630fa0244118088310aa051d6610223101111110025219a012c00240234041a58c944100364e00b310800f8904163b8068ec8148004c480647012a8ba434011c0841100ca16926748982c5622a02020b2084404a087435c46081490b26c748614092cc6582244640112c40bcd10c1a006ab920a76803491337400316103948021102c0611400c11102411310a610019e414d50901cca31045a4c93902002aa942db80160a4611048c009098d4020240c4008b459a71c0100022888e341ab4011a25110015e50591477910890d4298808420000d13846804002836020c483b172391583856080cd81922c33800c66c0616800c40850cc2a22c2312c544580840145ebaa8401c9c3808373e32c846755e39780a01f59c2ad36a2fe1ae1669cd02d8dbc7fb156613ab0940e5ef746807f678be0a38800000000000000008502939b6d04a0d86d13bcc8747fe14885674a59e32f23690efe265cba04cf7a9a4904ed331115830a00008403dc0000a0763517c48f02ef97e4375cee60c49bb8cea82c401347d328e2e438ac6e019bb3
# Blockhash: 05240b68dabd88b2aa91270112211762de2873306c0c5008d7c3621f1ce22b65